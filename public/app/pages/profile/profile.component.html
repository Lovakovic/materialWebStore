<mat-drawer-container class="min-h-full">
    <app-profile-header></app-profile-header>
    <div class="max-w-7xl m-auto flex justify-between">
        <div class="w-5/12 ml-6 mt-6">
            <h2 class="text-center">Your addresses</h2>
            <mat-accordion>
                <ng-container *ngIf="authService.user$ | async as user">
                    <ng-container *ngIf="addressService.addresses$ | async as addresses">
                        <app-address-box *ngFor="let address of addresses | findPrimaryAddress: user; let i = index"
                                         [expanded]="i === 0"
                                         [address]="address"
                                         [isPrimary]="(authService.user$ | async)?.primaryAddressId === address.id"
                                         (deleteAddress)="onDeleteAddress($event)"
                                         class="w-full"
                        ></app-address-box>
                    </ng-container>
                </ng-container>
                <mat-expansion-panel hideToggle>
                    <mat-expansion-panel-header>
                        <mat-panel-title class="text-base">New address</mat-panel-title>
                        <mat-icon>add</mat-icon>
                    </mat-expansion-panel-header>
                    <app-new-address (addAddress)="onAddAddress($event)" ></app-new-address>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
        <div class="w-5/12 mr-6 mt-6">
            <h2 class="text-center">Your orders</h2>
        </div>
    </div>
</mat-drawer-container>
